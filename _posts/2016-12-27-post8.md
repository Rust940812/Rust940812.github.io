---
layout: blog
title: 工作笔记
category: blog
tags: [human]  
summary: On the other end of the hallway rhythm was generating.
image: /images/blog/post5.jpg
---

###微信二维码：
	生成二维码有两种途径：1.是用网络上提供的二维码，但是这种二维码无法在微信上使用，只能是用手机扫一下然后跳转到别的页面上去，2.第二种二维码是微信生成的二维码，生成的二维码可以在微信上使用，可以带场景值，	微信二维码又分临时二维码跟永久二维码，临时二维码最长可以保存7天，而永久二维码没有时间限制。

###api票据
	全局access_token:需要做缓存，每天的调用量是2000，而且有效期是2个小时，所以需要做缓存

	网页授权：access_token:这个access_token跟全局access_token有区别的。
	
	网页授权的流程：1.通过微信给出的url去拿用户的code；然后拿到code后会跳转到回调域名那边,回调域名拿到code值后就可以利用curl去访问拿到网页访问的access_token值

	拿到access_token值后就拉取openid用户的信息。

	js_sdk:jsaccess_token：用于调用js_sdk


###微信二维码
	获取ticket票据：
	1.拿取access_token票据（全局票据）
	2.准备url地址，拼上access_token去拿tickt票据
	3.准备参数:一个数组：array(里面放所需要的参数)
	3.拿到ticket后，通过ticket去拿二维码（通过curl）去拿


###关于事件推送：
	扫码事件：扫码成功后，微信服务器会 把场景值发送给vaild里面去，然后就可以做判断来推送信息
	
	事件分为关注和未关注：关注的话就要先关注，已关注的话就直接推送信息

	

###empty对0和非0的敏感：
	empty对0和非0比较敏感，不能判断0是否为空

	empty()函数是用来测试变量是否已经配置。若变量已存在、非空字符串或者非零，则返回 false 值；反之返回 true值。所以，当字符串的值为0时，也返回true，就是执行empty内部的语句。这就是陷阱。
    如： 假设 $value = 0; 则empty($value)＝false。

####ftp有时候上传代码会出现乱码？：



####tp框架注意事项
	遵循框架的命名规范和目录规范； 
	开发过程中尽量开启调试模式，及早发现问题； 
	多看看日志文件，查找隐患问题； 
	养成使用I函数获取输入变量的好习惯； 
	更新或者环境改变后遇到问题首要问题是清空Runtime目录；

	由于ThinkPHP默认全部使用UTF-8编码，所以请确保你的程序文件采用UTF-8编码格式保存，并且去掉BOM信息头（去掉BOM头信息有很多方式，不同的编辑器都有设置方法，也可以用工具进行统一检测和处理），否则可能导致很多意想不到的问题。


####BOM头
	BOM头是放在UTF-8编码的文件的头部的，占用三个字节，用来标识该文件属于UTF-8编码。现在已经有很多软件识别BOM头，但是还有些不能识别BOM头，比如PHP就不能识别BOM头，这也是用记事本编辑UTF-8编码后执行就会出错的原因了


###三表联查
	eg:SELECT o.id,o.tel,o.house,o.house,o.address,u.username,c.clientname FROM (sty_order AS o LEFT JOIN sty_user AS u ON o.userid = u.id) LEFT JOIN syt_customer AS c ON o.clientid = c.id = $id;

	LEFT JOIN就是返回左表查询的数据，RIGHT JOIN就是返回右表查询的数据


###mysql让别人远程链接
	第一种能ping通，说明在同一个网络中，可以直接访问，你只要在你的登录用户中的账号上添加外部访问就可以，也就是授权

	命令：
	use mysql
	select host,password,user from user;

	然后就看到每个账号对应的有一列host，这个就是允许登录的主机，如果host为%号，那么就是所有主机都可以登录，包括远程主机
	host         password      user
	localhost                  root
	%                          root
	::1						   root


###tp:完整版和核心版的区别：
核心板只有tp的核心功能，没有其他类库，像图片 分页 http 验证码等类库都没有。
完整版包含了一些常用的类库，方面使用

###MVC：原理：
     1.控制器里面的控制器是相当于遥控器
     2.MVC的工作流程：
		浏览者-》调用控制器，对他发出指令，控制器，按指令选取一个合适的模型，
		然后，第三步：控制器指令取相应数据，第四步：按指令选取相应视图，最后：把第		三部取到的数据按用户想要的样子显示出来

	入口程序：单一入口机制：单一入口指在一个web应用程序中，所有请求是指向一个脚本文件，例如我们经常看到某一个网站的所有页面都是index.php?xxx这样的形式，所有对使用程序的访问都是必须通过这个入口。

	好处：做访问限制，唯一入口可以实现MVC模式，


###修改建表的默认引擎
	直接修改mysql的配置文件里面的
	找到mysql安装目录下的my.ini文件：

	找到default-storage-engine=INNODB 改为default-storage-engine=MYISAM

	1 查看系统支持的存储引擎

		show engines;
	
	2 查看表使用的存储引擎
	
		两种方法：
	
		a、show table status from db_name where name='table_name';
	
		b、show create table table_name;
	
	如果显示的格式不好看，可以用\g代替行尾分号
	
	有人说用第二种方法不准确，我试了下，关闭掉原先默认的Innodb引擎后根本无法执行show create table table_name指令，因为之前建的是Innodb表，关掉后默认用MyISAM引擎，导致Innodb表数据无法被正确读取。
	
	3 修改表引擎方法
	
	alter table table_name engine=innodb;

#####哈希：
	Hash是一种特殊的算法，MD5就是其中常用的一种。它的算法的特征是不可逆性，并且才计算的时候所有的数据都参与了运算，其中任何一个数据变化了都会导致计算出来的Hash值完全不同，所以通常用来校验数据是否正确或用作身份验证。
	常见的，论坛里面用户的密码是经过MD5等Hash算法算出来的Hash值进行保存的。
	在通常的网络下载中，会带有一个Hash值，这个值是用来校验你下载的文件是否损坏并保证尚未被别人篡改的
	MD5和sha1是快速hash

	关于密码加密：可以用双重md5再拼上一段字符串来加密


#####主键和唯一的区别：
	在数据库理论中，主键是唯一的了，一个表只能设置一个主键。主键中的值必须是唯一并且非空。而唯一键在一张表中可以有多个，并且允许为空。允许多个空值，因为在数据库中NULL <>  NULL

	主键约束比唯一索引约束严格，当没有设定主键时，非空唯一索引自动称为主键。对于主键和唯一索引的一些区别主要如下：
	
	1.主键不允许空值，唯一索引允许空值
	2.主键只允许一个，唯一索引允许多个
	3.主键产生唯一的聚集索引，唯一索引产生唯一的非聚集索引
	
	注：聚集索引确定表中数据的物理顺序，所以是主键是唯一的（聚集就是整理数据的意思）






	

	



	
			

					

			
		


				
			
		
		

			

						 

	
	
	
	
	




